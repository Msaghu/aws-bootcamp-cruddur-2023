#! /usr/bin/bash
set -e #stop if it fails at any point

if [ -z "$1" ]; then
    echo "No TASK_ID argument supplied eg ../bin/ecs/connect-to-service cruddur-messages <task ARN> backend-flask"
    exit 1
fi 
TASK_ID=$1

#for our container
if [ -z "$2" ]; then
    echo "No CONTAINER_NAME supplied eg ../bin/ecs/connect-to-service cruddur-messages <task ARN> backend-flask"
    exit 1
fi 
CONTAINER_NAME=$2

#list tasks running in ECS


aws ecs execute-command \
  --region $AWS_REGION \
  --cluster cruddur \
  --task $TASK_ID \
  --container $CONTAINER_NAME \
  --command "/bin/bash" \
  --interactive





